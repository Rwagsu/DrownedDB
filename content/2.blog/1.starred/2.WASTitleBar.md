---
title: Windows App SDK 1.4 çš„æ ‡é¢˜æ å¯æ‹–æ‹½é—®é¢˜
description: ä¸ä¸€å®šæ˜¯æœ€æ–°, å› ä¸ºæˆ‘å·²ç»æ¢ Uno Platform äº†()
icon: material-symbols:folder-outline-rounded

badges:
  - value: 2024-03-12
    icon: ri:window-2-line
    target: _blank

authors:
  - name: Rwagsu
    username: Rwagsu
    avatar: https://www.github.com/Rwagsu.png
    to: https://github.com/Rwagsu
    target: _blank
---

è‡ªä» Windows App SDK 1.4 å‘å¸ƒèµ·ï¼Œæœç´¢ç»“æœçš„å‡ ä¸ªæ’åœ¨å‰é¢çš„æ–‡ç« ä¸­çš„æ›´æ”¹æ ‡é¢˜æ å¯æ‹–æ‹½åŒºåŸŸå·²ç»å…¨éƒ¨å¤±æ•ˆäº†, å› ä¸º `SetDragRectangles` æ–¹æ³•åœ¨Microsoft Learnä¸­å·²ç»æ ‡è®°ä¸º "å·²åºŸå¼ƒ", è¿™æ„å‘³è¿™è¿™ä¸ªæ–¹æ³•å·²ç»ä¸èƒ½åœ¨æ–°ç‰ˆ Windows App SDK 1.4 èµ·ä½œç”¨ (ä»æ²¡è§è¿‡æ›´æ–°å¦‚æ­¤æ˜æ˜¾çš„åº“(é›¾))

å½“ç„¶, Microsoftç»™äº†ä¸€ä¸ªæ›¿ä»£æ–¹æ³•, è¿™ä¸ªæ–¹æ³•æ˜¯æˆ‘åœ¨ [Microsoft Q&A](https://learn.microsoft.com/en-us/answers/questions/1362230/how-to-fix-appwindow-titlebar-setdragrectangles-no) é—®åˆ°çš„ :)

ä»£ç å¦‚ä¸‹:

```csharp {5}
IntPtr hWndMain = WinRT.Interop.WindowNative.GetWindowHandle(this);
Microsoft.UI.WindowId myWndId = Microsoft.UI.Win32Interop.GetWindowIdFromWindow(hWndMain);

var incps = InputNonClientPointerSource.GetForWindowId(myWndId);
incps.SetRegionRects(NonClientRegionKind.Caption, new RectInt32[] { new RectInt32(X, Y, Width, Height) });
```
::alert{type="info" icon="lucide:info"}
å¦‚æœä½ åœ¨å†™äº†ä»£ç åæŠ¥é”™, é‚£ä¹ˆå¤§æ¦‚ç‡æ˜¯ä½ æ²¡å¼•ç”¨, å¼•ç”¨å°±è¡Œäº†, æˆ–è€…æ˜¯ä½ çš„ Windows App SDK ç‰ˆæœ¬å¤ªä½æˆ–è€…å¤ªé«˜ (ä¸ä¼šå¾®è½¯åªç”¨ä¸€ä¼šå°±ç»™åºŸå¼ƒäº†å§ï¼Ÿï¼ˆ*ã‚œãƒ¼ã‚œ*ï¼‰)
::

å…¶ä¸­, X, Y è¡¨ç¤ºæ¨ªåæ ‡å’Œçºµåæ ‡, Width è¡¨ç¤ºå®½, Height è¡¨ç¤ºé«˜.

ä¸å»ºè®®åˆ é™¤ä»£ç çš„ä»»ä½•å†…å®¹ (é™¤éä½ ä»£ç å·²ç»å†™äº†è¿™äº›ä¸œè¥¿çš„å…¶ä¸­ä¸€äº›), å› ä¸ºè¿™æ®µä»£ç çš„æ‰€æœ‰åœ°æ–¹éƒ½æ˜¯å…³è”èµ·æ¥çš„, ä½ åœ¨ä¿®æ”¹åå¯èƒ½ä¼šå¯¼è‡´æŠ¥é”™, å¼‚å¸¸æˆ–å„ç§Bug (å½“ç„¶å¦‚æœä½ æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆå½“æˆ‘æ²¡è¯´).

å½“ç„¶, å˜é‡åéšä¾¿æ”¹ğŸ˜‰

::alert{type="warning" icon="lucide:triangle-alert"}
é€šè¿‡è¿™ç§æ–¹å¼æ›´æ”¹çš„æ ‡é¢˜æ å¯æ‹–æ‹½åŒºåŸŸä»ç„¶ä¼šå—åˆ°ä½ çš„å±å¹•ç¼©æ”¾è®¾ç½®çš„å½±å“, ç›®å‰ä»…èƒ½ä¿è¯100%çš„å±å¹•ç¼©æ”¾ä¸å‡ºç°é—®é¢˜, å¤ªé«˜æˆ–å¤ªä½çš„å±å¹•ç¼©æ”¾ä¼šä½¿åŒºåŸŸå˜å¤§æˆ–å˜å°, ç¤ºä¾‹æ–¹æ³•æ²¡æœ‰è€ƒè™‘åˆ°è¿™ä¸ªè®¾ç½®çš„å½±å“ (æˆ‘ä¹Ÿä¸ä¼šå•Š QAQ æ‰¾äº†é‚£ä¹ˆå¤šæ–‡ç« é—®äº†é‚£ä¹ˆå¤š AI ä¸€ä¸ªä¸èƒ½ç”¨) æ‰€ä»¥ä½ å¯èƒ½è¦è‡ªå·±ç¼–å†™å…¼å®¹æ–¹æ³•. (å¯¹äº†, å¦‚æœæˆåŠŸäº†, åœ¨è¯„è®ºå‘Šè¯‰ä¸€å£°å“ˆawa)
::